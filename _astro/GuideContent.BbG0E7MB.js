import{j as n}from"./jsx-runtime.D_zvdyIk.js";import{c as g}from"./classname.y9b8gBZq.js";import{r as x,R as I}from"./index.DatCARk7.js";import{s as O}from"./slugger.rj1cS6co.js";import{C as K,a as L,b as $}from"./CodeBlock.DM3RYXoM.js";import{C as H}from"./chevron-left.1pcUDgRn.js";import{C as Y}from"./chevron-right.CrKPBoyZ.js";import{C as _}from"./circle-check-big.DD4Bg2zr.js";import{S as T}from"./sparkles.CX0XTs9t.js";import{c as A}from"./createLucideIcon.uNyFMN5K.js";import{P as z}from"./party-popper.BGkCxw5J.js";import{T as V}from"./thumbs-up.CEv1GgFg.js";import{R as W}from"./refresh-ccw.D3XBJq6u.js";import{C as G}from"./chevron-down.C3HM4CLF.js";import"./use-copy-text.DMdbdIxo.js";import"./check.DCsIB_xO.js";import"./copy.IVh-7Rp7.js";import"./index.zZad4t7S.js";import"./preload-helper.sN6dSm8X.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],X=A("rotate-ccw",U);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]],E=A("skip-forward",J);function Z(l){const{isLoading:e=!1,knowCount:t=0,didNotKnowCount:i=0,totalCount:r=0,skippedCount:s=0,onResetClick:o=()=>null,onPrevClick:a=()=>null,onNextClick:c=()=>null}=l,h=t+i+s,d=h/r*100;return n.jsxs("div",{className:"mb-3 overflow-hidden rounded-lg border border-gray-300 bg-white p-4 sm:mb-5 sm:p-6",children:[n.jsxs("div",{className:"mb-3 flex items-center text-gray-600",children:[n.jsx("div",{className:"relative w-full flex-1 rounded-xl bg-gray-200 p-1",children:n.jsx("div",{className:"absolute top-0 bottom-0 left-0 rounded-xl bg-slate-800 transition-[width] duration-400",style:{width:`${d}%`}})}),n.jsxs("span",{className:"ml-3 flex items-center text-sm",children:[n.jsx("button",{onClick:a,className:"text-zinc-400 hover:text-black",children:n.jsx(H,{className:"h-4",strokeWidth:3})}),n.jsxs("span",{className:"block min-w-[41px] text-center",children:[n.jsx("span",{className:"tabular-nums",children:h})," / ",r]}),n.jsx("button",{onClick:c,className:"text-zinc-400 hover:text-black",children:n.jsx(Y,{className:"h-4",strokeWidth:3})})]})]}),n.jsxs("div",{className:"relative -left-1 flex flex-col gap-2 text-sm text-black sm:flex-row sm:gap-3",children:[n.jsxs("span",{className:"flex items-center",children:[n.jsx(_,{className:"mr-1 h-4"}),n.jsx("span",{children:"Knew"}),n.jsxs("span",{className:"ml-2 rounded-md bg-gray-200/80 px-1.5 font-medium text-black",children:[n.jsx("span",{className:"tabular-nums",children:t})," Items"]})]}),n.jsxs("span",{className:"flex items-center",children:[n.jsx(T,{className:"mr-1 h-4"}),n.jsx("span",{children:"Learnt"}),n.jsxs("span",{className:"ml-2 rounded-md bg-gray-200/80 px-1.5 font-medium text-black",children:[n.jsx("span",{className:"tabular-nums",children:i})," Items"]})]}),n.jsxs("span",{className:"flex items-center",children:[n.jsx(E,{className:"mr-1 h-4"}),n.jsx("span",{children:"Skipped"}),n.jsxs("span",{className:"ml-2 rounded-md bg-gray-200/80 px-1.5 font-medium text-black",children:[n.jsx("span",{className:"tabular-nums",children:s})," Items"]})]}),n.jsxs("button",{disabled:e,onClick:o,className:"flex items-center text-red-600 transition-opacity duration-300 hover:text-red-900 disabled:opacity-50",children:[n.jsx(X,{className:"mr-1 h-4"}),"Reset",n.jsx("span",{className:"inline lg:hidden",children:"Progress"})]})]})]})}function R(l){const{icon:e,label:t,count:i}=l;return n.jsxs("span",{className:"group relative flex flex-1 items-center overflow-hidden rounded-md border border-gray-300 bg-white px-2 py-2 text-sm text-black transition-colors disabled:opacity-50 sm:rounded-xl sm:px-4 sm:py-3 sm:text-base",children:[e,n.jsxs("span",{className:"flex grow justify-between",children:[n.jsx("span",{children:t}),n.jsx("span",{children:i})]})]})}function ee(l){const{knowCount:e,didNotKnowCount:t,skippedCount:i,onReset:r}=l;return n.jsxs("div",{className:"relative flex grow flex-col items-center justify-center px-4 sm:px-0",children:[n.jsx(z,{className:"mb-4 mt-10 h-14 w-14 text-gray-300 sm:mt-0 sm:h-24 sm:w-24"}),n.jsx("h1",{className:"text-lg font-semibold text-gray-700 sm:text-2xl",children:"Questions Finished"}),n.jsxs("p",{className:"mt-0 text-sm text-gray-500 sm:mt-2 sm:text-base",children:["Click below revisit"," ",n.jsx("span",{className:"hidden sm:inline",children:"specific or all questions"})," ",n.jsx("span",{className:"inline sm:hidden",children:"questions"})]}),n.jsxs("div",{className:"mb-5 mt-5 flex w-full flex-col gap-1.5 px-2 sm:flex-row sm:gap-3 sm:px-16",children:[n.jsx(R,{icon:n.jsx(V,{className:"mr-1 h-4"}),label:"Knew",count:e}),n.jsx(R,{icon:n.jsx(T,{className:"mr-1 h-4"}),label:"Learned",count:t}),n.jsx(R,{icon:n.jsx(E,{className:"mr-1 h-4"}),label:"Skipped",count:i})]}),n.jsx("div",{className:"mb-4 mt-2 text-sm sm:mb-0",children:n.jsxs("button",{onClick:()=>r(),className:"flex items-center gap-0.5 text-sm text-red-700 hover:text-black sm:text-base",children:[n.jsx(W,{className:"mr-1 h-4"}),"Restart Asking"]})})]})}function te(l){const{question:e}=l,[t,i]=x.useState(!1),r=x.useRef(null),s=x.useRef(null);return x.useEffect(()=>{if(t){const a=r.current?.clientHeight||0,c=s.current?.clientHeight||0;a>c&&(s.current.style.height=`${a}px`)}else s.current.style.height="auto";const o=(s.current?.getBoundingClientRect().top||0)-147;o<0&&window.scrollTo({top:window.scrollY+o-10})},[t]),x.useEffect(()=>{i(!1)},[e]),n.jsxs(n.Fragment,{children:[n.jsxs("div",{ref:s,className:"flex grow flex-col items-center justify-center py-5 sm:py-8",children:[n.jsx("div",{className:"hidden text-gray-400 sm:block",children:e.topics?.map((o,a)=>{const c=e.topics?.length||0;return n.jsxs(x.Fragment,{children:[n.jsx("span",{className:"capitalize",children:o}),a!==c-1&&n.jsx("span",{className:"mx-2",children:"·"})]},o)})}),n.jsx("div",{className:"mx-auto flex max-w-[550px] flex-1 items-center justify-center py-3 sm:py-8",children:n.jsx("p",{className:"px-4 text-xl leading-snug! font-semibold text-black sm:text-3xl",children:e.question})}),n.jsx("div",{className:"text-center",children:n.jsx("button",{onClick:()=>{i(!0)},className:"cursor-pointer text-sm text-gray-500 underline underline-offset-4 transition-colors hover:text-black sm:text-base",children:"Click to Reveal the Answer"})})]}),n.jsxs("div",{ref:r,className:g("absolute right-0 left-0 flex flex-col items-center justify-center rounded-[7px] bg-neutral-100 py-4 text-sm leading-normal text-black transition-all duration-300 sm:py-8 sm:text-xl",t?"top-0 min-h-[248px] sm:min-h-[398px]":"top-full"),children:[n.jsx("div",{className:"qa-answer prose prose-h5:font-semibold prose-h5:mb-2 prose-h5:text-black prose-sm prose-quoteless prose-h1:mb-2.5 prose-h1:mt-7 prose-h2:mb-3 prose-h2:mt-0 prose-h3:mb-[5px] prose-h3:mt-[10px] prose-p:mb-2 prose-p:mt-0 prose-blockquote:font-normal prose-blockquote:not-italic prose-blockquote:text-gray-700 prose-pre:mb-6! prose-pre:w-full prose-ul:my-2 prose-li:m-0 prose-li:mb-0.5 prose-li:[&>p]:mb-0 sm:prose-p:mb-4 mx-auto flex w-full max-w-[600px] grow flex-col items-start justify-center px-4 py-0 text-left text-sm sm:px-5 sm:text-lg",children:q.render(e.answer)}),n.jsx("div",{className:"mt-7 text-center",children:n.jsx("button",{onClick:()=>{i(!1)},className:"cursor-pointer text-sm text-gray-500 underline underline-offset-4 transition-colors hover:text-black sm:text-base",children:"Hide the Answer"})})]})]})}var S,D;function se(){if(D)return S;D=1;var l={linear:function(e,t,i,r){var s=i-t;return s*e/r+t},easeInQuad:function(e,t,i,r){var s=i-t;return s*(e/=r)*e+t},easeOutQuad:function(e,t,i,r){var s=i-t;return-s*(e/=r)*(e-2)+t},easeInOutQuad:function(e,t,i,r){var s=i-t;return(e/=r/2)<1?s/2*e*e+t:-s/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,i,r){var s=i-t;return s*(e/=r)*e*e+t},easeOutCubic:function(e,t,i,r){var s=i-t;return s*((e=e/r-1)*e*e+1)+t},easeInOutCubic:function(e,t,i,r){var s=i-t;return(e/=r/2)<1?s/2*e*e*e+t:s/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,i,r){var s=i-t;return s*(e/=r)*e*e*e+t},easeOutQuart:function(e,t,i,r){var s=i-t;return-s*((e=e/r-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,i,r){var s=i-t;return(e/=r/2)<1?s/2*e*e*e*e+t:-s/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,i,r){var s=i-t;return s*(e/=r)*e*e*e*e+t},easeOutQuint:function(e,t,i,r){var s=i-t;return s*((e=e/r-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,i,r){var s=i-t;return(e/=r/2)<1?s/2*e*e*e*e*e+t:s/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,i,r){var s=i-t;return-s*Math.cos(e/r*(Math.PI/2))+s+t},easeOutSine:function(e,t,i,r){var s=i-t;return s*Math.sin(e/r*(Math.PI/2))+t},easeInOutSine:function(e,t,i,r){var s=i-t;return-s/2*(Math.cos(Math.PI*e/r)-1)+t},easeInExpo:function(e,t,i,r){var s=i-t;return e==0?t:s*Math.pow(2,10*(e/r-1))+t},easeOutExpo:function(e,t,i,r){var s=i-t;return e==r?t+s:s*(-Math.pow(2,-10*e/r)+1)+t},easeInOutExpo:function(e,t,i,r){var s=i-t;return e===0?t:e===r?t+s:(e/=r/2)<1?s/2*Math.pow(2,10*(e-1))+t:s/2*(-Math.pow(2,-10*--e)+2)+t},easeInCirc:function(e,t,i,r){var s=i-t;return-s*(Math.sqrt(1-(e/=r)*e)-1)+t},easeOutCirc:function(e,t,i,r){var s=i-t;return s*Math.sqrt(1-(e=e/r-1)*e)+t},easeInOutCirc:function(e,t,i,r){var s=i-t;return(e/=r/2)<1?-s/2*(Math.sqrt(1-e*e)-1)+t:s/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(e,t,i,r){var s=i-t,o,a,c;return c=1.70158,a=0,o=s,e===0?t:(e/=r)===1?t+s:(a||(a=r*.3),o<Math.abs(s)?(o=s,c=a/4):c=a/(2*Math.PI)*Math.asin(s/o),-(o*Math.pow(2,10*(e-=1))*Math.sin((e*r-c)*(2*Math.PI)/a))+t)},easeOutElastic:function(e,t,i,r){var s=i-t,o,a,c;return c=1.70158,a=0,o=s,e===0?t:(e/=r)===1?t+s:(a||(a=r*.3),o<Math.abs(s)?(o=s,c=a/4):c=a/(2*Math.PI)*Math.asin(s/o),o*Math.pow(2,-10*e)*Math.sin((e*r-c)*(2*Math.PI)/a)+s+t)},easeInOutElastic:function(e,t,i,r){var s=i-t,o,a,c;return c=1.70158,a=0,o=s,e===0?t:(e/=r/2)===2?t+s:(a||(a=r*(.3*1.5)),o<Math.abs(s)?(o=s,c=a/4):c=a/(2*Math.PI)*Math.asin(s/o),e<1?-.5*(o*Math.pow(2,10*(e-=1))*Math.sin((e*r-c)*(2*Math.PI)/a))+t:o*Math.pow(2,-10*(e-=1))*Math.sin((e*r-c)*(2*Math.PI)/a)*.5+s+t)},easeInBack:function(e,t,i,r,s){var o=i-t;return s===void 0&&(s=1.70158),o*(e/=r)*e*((s+1)*e-s)+t},easeOutBack:function(e,t,i,r,s){var o=i-t;return s===void 0&&(s=1.70158),o*((e=e/r-1)*e*((s+1)*e+s)+1)+t},easeInOutBack:function(e,t,i,r,s){var o=i-t;return s===void 0&&(s=1.70158),(e/=r/2)<1?o/2*(e*e*(((s*=1.525)+1)*e-s))+t:o/2*((e-=2)*e*(((s*=1.525)+1)*e+s)+2)+t},easeInBounce:function(e,t,i,r){var s=i-t,o;return o=l.easeOutBounce(r-e,0,s,r),s-o+t},easeOutBounce:function(e,t,i,r){var s=i-t;return(e/=r)<1/2.75?s*(7.5625*e*e)+t:e<2/2.75?s*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?s*(7.5625*(e-=2.25/2.75)*e+.9375)+t:s*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOutBounce:function(e,t,i,r){var s=i-t,o;return e<r/2?(o=l.easeInBounce(e*2,0,s,r),o*.5+t):(o=l.easeOutBounce(e*2-r,0,s,r),o*.5+s*.5+t)}};return S=l,S}var ne=se();function re(l){return l*Math.PI/180}function p(l,e){return l+Math.random()*(e-l)}function ie(l,e){return Math.floor(l+Math.random()*(e-l+1))}var P;(function(l){l[l.Circle=0]="Circle",l[l.Square=1]="Square",l[l.Strip=2]="Strip"})(P||(P={}));var y;(function(l){l[l.Positive=1]="Positive",l[l.Negative=-1]="Negative"})(y||(y={}));const oe=1e3/60;class ae{constructor(e,t,i,r){this.getOptions=t;const{colors:s,initialVelocityX:o,initialVelocityY:a}=this.getOptions();this.context=e,this.x=i,this.y=r,this.w=p(5,20),this.h=p(5,20),this.radius=p(5,10),this.vx=typeof o=="number"?p(-o,o):p(o.min,o.max),this.vy=typeof a=="number"?p(-a,0):p(a.min,a.max),this.shape=ie(0,2),this.angle=re(p(0,360)),this.angularSpin=p(-.2,.2),this.color=s[Math.floor(Math.random()*s.length)],this.rotateY=p(0,1),this.rotationDirection=p(0,1)?y.Positive:y.Negative}update(e){const{gravity:t,wind:i,friction:r,opacity:s,drawShape:o}=this.getOptions(),a=e/oe;this.x+=this.vx*a,this.y+=this.vy*a,this.vy+=t*a,this.vx+=i*a,this.vx*=r**a,this.vy*=r**a,this.rotateY>=1&&this.rotationDirection===y.Positive?this.rotationDirection=y.Negative:this.rotateY<=-1&&this.rotationDirection===y.Negative&&(this.rotationDirection=y.Positive);const c=.1*this.rotationDirection*a;if(this.rotateY+=c,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=s,this.context.lineCap="round",this.context.lineWidth=2,o&&typeof o=="function")o.call(this,this.context);else switch(this.shape){case P.Circle:{this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break}case P.Square:{this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break}case P.Strip:{this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h);break}}this.context.closePath(),this.context.restore()}}class le{constructor(e,t){this.x=0,this.y=0,this.w=0,this.h=0,this.lastNumberOfPieces=0,this.tweenProgress=0,this.tweenFrom=0,this.particles=[],this.particlesGenerated=0,this.removeParticleAt=r=>{this.particles.splice(r,1)},this.getParticle=()=>{const r=p(this.x,this.w+this.x),s=p(this.y,this.h+this.y);return new ae(this.context,this.getOptions,r,s)},this.animate=r=>{const{canvas:s,context:o,particlesGenerated:a,lastNumberOfPieces:c}=this,{run:h,recycle:d,numberOfPieces:m,debug:k,tweenFunction:N,tweenDuration:j}=this.getOptions();if(!h)return!1;const C=this.particles.length,f=d?C:a;if(f<m){c!==m&&(this.tweenProgress=0,this.tweenFrom=f,this.lastNumberOfPieces=m),this.tweenProgress=Math.min(j,Math.max(0,this.tweenProgress+r));const w=N(this.tweenProgress,this.tweenFrom,m,j),u=Math.round(w-f);for(let b=0;b<u;b++)this.particles.push(this.getParticle());this.particlesGenerated+=u}k&&(o.font="12px sans-serif",o.fillStyle="#333",o.textAlign="right",o.fillText(`Particles: ${C}`,s.width-10,s.height-20));for(let w=this.particles.length-1;w>=0;w--){const u=this.particles[w];u.update(r),(u.y>s.height||u.y<-100||u.x>s.width+100||u.x<-100)&&(d&&f<=m?this.particles[w]=this.getParticle():this.removeParticleAt(w))}return C>0||f<m},this.canvas=e;const i=this.canvas.getContext("2d");if(!i)throw new Error("Could not get canvas context");this.context=i,this.getOptions=t}}const B={width:typeof window<"u"?window.innerWidth:300,height:typeof window<"u"?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:ne.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0};let ce=class{constructor(e,t){this.lastFrameTime=0,this.setOptionsWithDefaults=r=>{const s={confettiSource:{x:0,y:0,w:this.canvas.width,h:0}};this._options={...s,...B,...r},Object.assign(this,r.confettiSource)},this.update=(r=0)=>{const{options:{run:s,onConfettiComplete:o,frameRate:a},canvas:c,context:h}=this,d=Math.min(r-this.lastFrameTime,50);if(a&&d<1e3/a){this.rafId=requestAnimationFrame(this.update);return}this.lastFrameTime=r-(a?d%a:0),s&&(h.fillStyle="white",h.clearRect(0,0,c.width,c.height)),this.generator.animate(d)?this.rafId=requestAnimationFrame(this.update):(o&&typeof o=="function"&&this.generator.particlesGenerated>0&&o.call(this,this),this._options.run=!1)},this.reset=()=>{this.generator&&this.generator.particlesGenerated>0&&(this.generator.particlesGenerated=0,this.generator.particles=[],this.generator.lastNumberOfPieces=0)},this.stop=()=>{this.options={run:!1},this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=void 0)},this.canvas=e;const i=this.canvas.getContext("2d");if(!i)throw new Error("Could not get canvas context");this.context=i,this.generator=new le(this.canvas,()=>this.options),this.options=t,this.update()}get options(){return this._options}set options(e){const t=this._options?.run,i=this._options?.recycle;this.setOptionsWithDefaults(e),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof e.recycle=="boolean"&&e.recycle&&i===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof e.run=="boolean"&&e.run&&t===!1&&this.update()}};const he=I.createRef();class Q extends I.Component{constructor(e){super(e),this.canvas=I.createRef(),this.canvas=e.canvasRef||he}componentDidMount(){if(this.canvas.current){const e=F(this.props)[0];this.confetti=new ce(this.canvas.current,e)}}componentDidUpdate(){const e=F(this.props)[0];this.confetti&&(this.confetti.options=e)}componentWillUnmount(){this.confetti&&this.confetti.stop(),this.confetti=void 0}render(){const[e,t]=F(this.props),i={zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0,...t.style};return n.jsx("canvas",{width:e.width,height:e.height,ref:this.canvas,...t,style:i})}}Q.defaultProps={...B};Q.displayName="ReactConfetti";function F(l){const e={},t={},i={},r=[...Object.keys(B),"confettiSource","drawShape","onConfettiComplete","frameRate"],s=["canvasRef"];for(const o in l){const a=l[o];r.includes(o)?e[o]=a:s.includes(o)?s[o]=a:i[o]=a}return[e,i,t]}const ue=I.forwardRef((l,e)=>n.jsx(Q,{canvasRef:e,...l}));function de(l){const{element:e=document.body,onDone:t=()=>null,pieces:i=40}=l,[r,s]=x.useState();function o(a){const c=a.getBoundingClientRect();s({x:c?.x||0,y:(c?.y||0)+window.scrollY,w:c?.width||0,h:c?.height||0})}return x.useEffect(()=>{if(!e){s(void 0);return}o(e)},[e]),r?n.jsx(ue,{height:document.body.scrollHeight,numberOfPieces:i,recycle:!1,onConfettiComplete:a=>{s(void 0),t()},initialVelocityX:4,initialVelocityY:8,tweenDuration:10,confettiSource:{x:r.x,y:r.y,w:r.w,h:r.h}}):null}function me(l){const{questions:e,className:t}=l,[i,r]=x.useState(!1),[s,o]=x.useState(0),[a,c]=x.useState({know:[],dontKnow:[],skip:[]}),h=x.useRef(null);async function d(){o(0),c({know:[],dontKnow:[],skip:[]})}function m(u,b){let v=a||{know:[],dontKnow:[],skip:[]};u==="know"?v.know.push(b):u=="dontKnow"?v.dontKnow.push(b):u=="skip"&&v.skip.push(b);const M=s+1;c(v),(!M||!e[M])&&r(!0),o(M)}const k=a?.know.length||0,N=a?.dontKnow.length||0,j=a?.skip.length||0,C=k>0||N>0||j>0,f=e[s],w=C&&s===-1;return n.jsxs("div",{className:g("mb-0 gap-3 text-center sm:mb-40",t),children:[n.jsx(Z,{knowCount:k,didNotKnowCount:N,skippedCount:j,totalCount:e?.length,onResetClick:()=>{d().finally(()=>null)},onNextClick:()=>{s!==-1&&s<e.length-1&&m("skip",f.id)},onPrevClick:()=>{if(s>0){const u=e[s-1],b={know:a?.know.filter(v=>v!==u.id)||[],dontKnow:a?.dontKnow.filter(v=>v!==u.id)||[],skip:a?.skip.filter(v=>v!==u.id)||[]};c(b),o(s-1)}}}),i&&h.current&&n.jsx(de,{pieces:100,element:h.current,onDone:()=>{r(!1)}}),n.jsxs("div",{ref:h,className:"relative mb-4 flex min-h-[250px] w-full overflow-hidden rounded-lg border border-gray-300 bg-white sm:min-h-[400px]",children:[w&&n.jsx(ee,{totalCount:e?.length||0,knowCount:k,didNotKnowCount:N,skippedCount:j,onReset:()=>{d().finally(()=>null)}}),f&&n.jsx(te,{question:f})]}),n.jsxs("div",{className:g("flex flex-col gap-1 transition-opacity duration-300 sm:flex-row sm:gap-3",w?"opacity-0":"opacity-100"),children:[n.jsxs("button",{disabled:!f,onClick:u=>{u.stopPropagation(),u.preventDefault(),m("know",f.id)},className:"flex flex-1 items-center rounded-md border border-gray-300 bg-white px-2 py-2 text-sm text-black transition-colors hover:border-black hover:bg-black hover:text-white disabled:pointer-events-none disabled:opacity-50 sm:rounded-lg sm:px-4 sm:py-3 sm:text-base",children:[n.jsx(_,{className:"mr-1 h-4 text-current"}),"Already Know that"]}),n.jsxs("button",{onClick:()=>{m("dontKnow",f.id)},disabled:!f,className:"flex flex-1 items-center rounded-md border border-gray-300 bg-white px-2 py-2 text-sm text-black transition-colors hover:border-black hover:bg-black hover:text-white disabled:pointer-events-none disabled:opacity-50 sm:rounded-lg sm:px-4 sm:py-3 sm:text-base",children:[n.jsx(T,{className:"mr-1 h-4 text-current"}),"Didn't Know that"]}),n.jsxs("button",{onClick:()=>{m("skip",f.id)},disabled:!f,"data-next-question":"skip",className:"flex flex-1 items-center rounded-md border border-red-600 px-2 py-2 text-sm text-red-600 hover:bg-red-600 hover:text-white disabled:pointer-events-none disabled:opacity-50 sm:rounded-lg sm:px-4 sm:py-3 sm:text-base",children:[n.jsx(E,{className:"mr-1 h-4"}),"Skip Question"]})]})]})}class xe{marksOrder=["underline","bold","italic","textStyle","link"];render(e){return(e.content||[]).map((r,s)=>{const o=this.renderNode(r);return o?n.jsx(x.Fragment,{children:o},`${r.type}-${s}`):null}).filter(Boolean)}tableOfContents(e){const t=this.headlines(e);let i=[],r=null;const s=e.content?.some(a=>a.type==="qaSection");t.filter(a=>a.level!==1).forEach(a=>{a.level===2?(r={...a,children:[]},i.push(r)):r&&a.level===3&&r.children.push({...a,text:a.text})});const o=e.content?.find(a=>a.type==="qaSection");if(s&&o){i.push({level:2,text:"Test yourself with Flashcards",slug:"test-with-flashcards",children:[]});const a=this.questions(o),c=[...new Set(a.map(h=>h.topics).flat().filter(Boolean))];i.push({level:2,text:"Questions List",slug:"questions-list",children:c.map(h=>{let d=h,m=O(h);return h.toLowerCase()==="beginners"?(d="Beginner Level",m="beginner-level"):h.toLowerCase()==="intermediate"?(d="Intermediate Level",m="intermediate-level"):h.toLowerCase()==="advanced"&&(d="Advanced Level",m="advanced-level"),{level:2,children:[],slug:m,text:d}})})}return i.length>5&&i.forEach(a=>{a.children=[]}),i}headlines(e){const t=e.content||[],i=[];let r=!1;const s=o=>{if(o.type==="qaSection"||r){r=!0;return}if(o.type==="heading"){const a=this.getText(o);i.push({level:o.attrs?.level||1,text:a,slug:O(a)})}o.content&&o.content.forEach(a=>{s(a)})};return t.forEach(o=>{s(o)}),i}getText(e){return e.type==="text"?e.text||"":e.content?e.content.map(t=>this.getText(t)).join(""):""}content(e){return(e.content||[]).map((i,r)=>{const s=this.renderNode(i);return s?n.jsx(x.Fragment,{children:s},`${i.type}-${r}`):null}).filter(Boolean)}renderNode(e){const t=e.type||"";return t in this?this[t]?.(e):(console.log(`Node type "${t}" is not supported.`),null)}renderMark(e){const t=e?.text||n.jsx(n.Fragment,{children:" "});let i=e?.marks||[];return i.sort((r,s)=>this.marksOrder.indexOf(r.type)-this.marksOrder.indexOf(s.type)),i.reduce((r,s)=>{const o=s.type;if(o in this)return this[o]?.(s,r);throw new Error(`Mark type "${o}" is not supported.`)},n.jsx(n.Fragment,{children:t}))}paragraph(e){return!e.content||e.content?.every(i=>i.type==="text"&&i.text==="")?n.jsx(n.Fragment,{}):n.jsx("p",{children:this.content(e)})}text(e){if(e.marks)return this.renderMark(e);const t=e.text;return t?n.jsx(n.Fragment,{children:t}):n.jsx(n.Fragment,{children:" "})}bold(e,t){return n.jsx("strong",{children:t})}italic(e,t){return n.jsx("em",{children:t})}underline(e,t){return n.jsx("u",{children:t})}strike(e,t){return n.jsx("s",{style:{textDecoration:"line-through"},children:t})}textStyle(e,t){const{attrs:i}=e,{color:r="inherit"}=i||{};return n.jsx("span",{style:{color:r},children:t})}link(e,t){const{attrs:i}=e,{href:r}=i||{},s=r?.startsWith("http"),o=r?.startsWith("https://roadmap.sh/"),a=s&&!o?"noopener noreferrer":void 0;return n.jsx("a",{href:r,target:"_blank",rel:a,children:t})}heading(e){const{attrs:t}=e,{level:i}=t||{},r=this.getText(e),s=O(r);let o="h1";return i===2?o="h2":i===3?o="h3":i===4?o="h4":i===5?o="h5":i===6&&(o="h6"),n.jsx(o,{id:s,children:this.content(e)})}horizontalRule(e){return n.jsx("hr",{})}orderedList(e){return n.jsx("ol",{children:this.content(e)})}bulletList(e){return n.jsx("ul",{children:this.content(e)})}listItem(e){return n.jsx("li",{children:this.content(e)})}hardBreak(e){return n.jsx("br",{})}image(e){const{attrs:t}=e,{src:i,alt:r}=t||{};return n.jsx("img",{alt:r||"Image",src:i})}code(e,t){return n.jsx("code",{children:t})}codeBlock(e){const t=this.getText(e),i=e.attrs?.language||"javascript";return n.jsxs("div",{className:"not-prose my-6 w-full max-w-full overflow-hidden rounded-lg border border-gray-200",children:[n.jsx(K,{language:i,code:t}),n.jsx(L,{value:i,lineNumbers:!1,children:n.jsx($,{language:i,children:t})},i)]})}blockquote(e){return n.jsx("blockquote",{children:this.content(e)})}questions(e){const t=e.content||[],i=[];let r=null,s=null;for(const o of t)switch(o.type){case"heading":if(o.attrs?.level===2)r=this.getText(o);else if(o.attrs?.level===3&&r){const a=this.getText(o);s={id:O(a),question:a,answer:{type:"doc",content:[]},topics:[r]},i.push(s)}break;default:if(!s||!s.answer.content){console.warn("No current question found");continue}s.answer.content.push(o);break}return i}qaSection(e){const t=this.questions(e),i=t.reduce((s,o)=>(o.topics?.forEach(a=>{s[a]=[...s[a]||[],o]}),s),{}),r=[...new Set(t.map(s=>s.topics).flat().filter(Boolean))];return n.jsxs(n.Fragment,{children:[n.jsx("h2",{id:"test-with-flashcards",children:"Test yourself with Flashcards"}),n.jsx("p",{children:"You can either use these flashcards or jump to the questions list section below to see them in a list format."}),n.jsx("div",{className:"mx-0 sm:-mb-32",children:n.jsx(me,{questions:t})}),n.jsx("h2",{id:"questions-list",children:"Questions List"}),n.jsx("p",{children:"If you prefer to see the questions in a list format, you can find them below."}),r.map(s=>n.jsxs("div",{className:"mb-5",children:[n.jsx("h3",{id:O(s),className:"mb-0 capitalize",children:s.toLowerCase()==="beginners"?"Beginner Level":s.toLowerCase()==="intermediate"?"Intermediate Level":s.toLowerCase()==="advanced"?"Advanced Level":s}),i[s].map(o=>n.jsxs("div",{className:"mb-5",children:[n.jsx("h4",{children:o.question}),n.jsx("div",{children:this.render(o.answer)})]},o.id))]},s))]})}table(e){const i=(e.content||[]).filter(a=>a.type==="tableRow"),r=i?.[0],s=r?.content?.some(a=>a.type==="tableHeader"),o=i.slice(s?1:0);return n.jsxs("table",{className:"[&_p]:m-0",children:[s&&n.jsx("thead",{children:this.renderNode(r)}),n.jsx("tbody",{children:this.render({type:"doc",content:o})})]})}tableRow(e){return n.jsx("tr",{children:this.content(e)})}tableHeader(e){return n.jsx("th",{children:this.content(e)})}tableCell(e){return n.jsx("td",{children:this.content(e)})}}const q=new xe;function fe(l){const{toc:e}=l,[t,i]=x.useState(!1);if(e.length===0)return null;const r=e.flatMap(s=>[s,...s.children]).length;return n.jsxs("div",{className:g("relative min-w-[250px] px-5 pt-0 max-lg:max-w-full max-lg:min-w-full max-lg:border-none max-lg:px-0 lg:pt-5",{"top-0 lg:sticky!":r<=20}),children:[n.jsx("h4",{className:"text-lg font-medium max-lg:hidden",children:"In this article"}),n.jsxs("button",{className:"flex w-full items-center justify-between gap-2 bg-gray-300 px-3 py-2 text-sm font-medium lg:hidden",onClick:()=>i(!t),children:["Table of Contents",n.jsx(G,{size:16,className:g("transform transition-transform",t&&"rotate-180")})]}),n.jsx("ol",{className:g("mt-0.5 space-y-0 max-lg:absolute max-lg:top-full max-lg:mt-0 max-lg:w-full max-lg:bg-white max-lg:shadow-sm",!t&&"hidden lg:block",t&&"block"),children:e.map(s=>n.jsxs("li",{children:[n.jsx("a",{href:`#${s.slug}`,className:"text-sm text-gray-500 no-underline hover:text-black max-lg:block max-lg:border-b max-lg:px-3 max-lg:py-1",onClick:()=>{t&&i(!1)},children:s.text}),s.children.length>0&&n.jsx("ol",{className:"my-0 mt-1 ml-4 space-y-0 max-lg:mt-0 max-lg:ml-0 max-lg:list-none",children:s.children.map(o=>n.jsx("li",{children:n.jsx("a",{href:`#${o.slug}`,className:"text-sm text-gray-500 no-underline hover:text-black max-lg:block max-lg:border-b max-lg:px-3 max-lg:py-1 max-lg:pl-8",onClick:()=>{t&&i(!1)},children:o.text})},o.slug))})]},s.slug))})]})}function pe(l){const{relatedTitle:e="Other Guides",relatedGuides:t}=l,[i,r]=x.useState(!1);return t.length===0?null:n.jsxs("div",{className:g("relative min-w-[250px] pt-0 lg:px-5 lg:pt-10"),children:[n.jsx("h4",{className:"text-lg font-medium max-lg:hidden",children:e}),n.jsxs("button",{className:"flex w-full items-center justify-between gap-2 border-b bg-gray-300 px-3 py-2 text-sm font-medium lg:hidden",onClick:()=>r(!i),children:[e,n.jsx(G,{size:16,className:g("transform transition-transform",i&&"rotate-180")})]}),n.jsx("ol",{className:g("mt-0.5 space-y-0 max-lg:absolute max-lg:top-full max-lg:z-10 max-lg:mt-0 max-lg:w-full max-lg:bg-white max-lg:shadow-sm",!i&&"hidden lg:block",i&&"block"),children:t.map(s=>{const{roadmapId:o,slug:a,title:c}=s,h=o?`/${o}/${a}`:`/guides/${a}`,d=g("text-sm text-gray-500 no-underline hover:text-black max-lg:block max-lg:border-b max-lg:px-3 max-lg:py-1");return n.jsx("li",{children:n.jsx("a",{href:h,className:d,onClick:()=>{i&&r(!1)},children:c})},a)})})]})}function Qe(l){const{guide:e}=l,t=q.render(e.content),i=q.tableOfContents(e.content),r=i.length>0,s=e.relatedGuides&&e.relatedGuides.length>0;return n.jsxs("article",{className:"lg:grid lg:max-w-full lg:grid-cols-[1fr_minmax(0,700px)_1fr]",children:[(r||s)&&n.jsxs("div",{className:"sticky top-0 bg-linear-to-r from-gray-50 py-0 lg:relative lg:col-start-3 lg:col-end-4 lg:row-start-1",children:[s&&n.jsx(pe,{relatedGuides:e?.relatedGuides||[]}),r&&n.jsx(fe,{toc:i})]}),n.jsx("div",{className:g("col-start-2 col-end-3 row-start-1 mx-auto max-w-[700px] py-5 sm:py-10",r&&"lg:border-r"),children:n.jsxs("div",{className:"prose prose-xl prose-h2:mb-3 prose-h2:mt-10 prose-h2:scroll-mt-5 prose-h2:text-balance prose-h2:text-3xl prose-h3:mt-2 prose-h4:text-2xl prose-h3:scroll-mt-5 prose-h3:text-balance prose-h4:text-balance prose-h5:text-balance prose-h5:font-medium prose-blockquote:font-normal prose-code:bg-transparent prose-img:mt-1 sm:prose-h2:scroll-mt-10 sm:prose-h3:scroll-mt-10 prose-li:[&>p]:m-0 container",children:[n.jsx("h1",{className:"mb-3 text-4xl font-bold text-balance",children:e.title}),n.jsx("p",{className:"my-0 mb-6 flex items-center justify-start text-sm text-gray-400",children:n.jsxs("a",{href:`/authors/${e.author?.slug}`,className:"inline-flex items-center font-medium underline-offset-2 hover:text-gray-600 hover:underline",children:[n.jsx("img",{alt:e.author?.name,src:e.author?.avatar,className:"mr-2 mb-0 inline h-5 w-5 rounded-full"}),e.author?.name]})}),t]})})]})}export{Qe as GuideContent};
